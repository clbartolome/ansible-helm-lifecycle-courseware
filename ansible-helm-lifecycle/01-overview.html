<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Overview :: Ansible Helm Lifecycle Guide</title>
    <link rel="canonical" href="https://clbartolome.github.io/ansible-helm-lifecycle-guide/ansible-helm-lifecycle/01-overview.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="02-first_execution.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://clbartolome.github.io/ansible-helm-lifecycle-guide">Ansible Helm Lifecycle Guide</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ansible-helm-lifecycle" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Welcome</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-overview.html">1. Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#gitea">Gitea</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#aap">Ansible Automation Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#ocp">OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#nexus">Nexus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#argo">Argo CD</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="02-first_execution.html">2. First Execution</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-first_execution.html#webhook">Configure Webhook</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-first_execution.html#nexus">Configure Nexus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-first_execution.html#chart">Update Chart Repository</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-first_execution.html#validate">Validate Execution</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="02-first_execution.html#app">Update Application</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="03-testing_environment.html">3. Testing Environment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-testing_environment.html#create-ns">Create Namespace</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-testing_environment.html#install-chart">Install Chart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-testing_environment.html#unninstall-chart">Unninstall Chart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="03-testing_environment.html#delete-ns">Delete Namespace</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="04-validations.html">4. Validations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-validations.html#replicas">Replicas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-validations.html#deployment">Deployment Image</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-validations.html#route">Route</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="04-validations.html#size">Size</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="05-notification.html">5. Notifications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-notification.html#config">User Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="05-notification.html#task">Task</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="06-challenges.html">6. Challenges</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-challenges.html#errors">Error Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-challenges.html#scenarios">Multiple Scenarios</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="06-challenges.html#sizes">New Sizes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Ansible Helm Lifecycle Guide</a></li>
    <li><a href="01-overview.html">1. Overview</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/clbartolome/ansible-helm-lifecycle-guide/edit/master/documentation/modules/ROOT/pages/01-overview.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Overview</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Access links and credentials for all this components should be provided by the <strong>laboratory team</strong>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gitea"><a class="anchor" href="#gitea"></a>Gitea</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Gitea is a web-based collaborative software platform for hosting software development version control using Git as well as other collaborative features like bug tracking, code review, kanban boards, tickets, and wikis.</p>
</div>
<div class="paragraph">
<p>This laboratory includes three repositories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>helm-ansible-pipeline</strong>: contains the templates that form the 'base-chart' pipeline (workflow) in AAP.</p>
</li>
<li>
<p><strong>base-chart</strong>: Helm Chart used in this laboratory.</p>
</li>
<li>
<p><strong>demo-app</strong>: web application to demonstrate the deployment of an application using the chart. Shows the versions of the application and the Helm chart used for its deployment.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aap"><a class="anchor" href="#aap"></a>Ansible Automation Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TODO: content</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ocp"><a class="anchor" href="#ocp"></a>OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift is Red Hat&#8217;s enterprise-ready Kubernetes platform. OpenShift is hosting all the applications used in this laboratory (AAP, Gitea, ArgoCD, Nexus, &#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>As a laboratory student, you have an already created namespace named <strong>'student&lt;your number&gt;-demo-app'</strong> that contains an application used for testing the 'base-chart'. The application looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/1-overview-demoapp.png" alt="1 overview demoapp">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To review your 'demo-app' login into OpenShift, go to 'topology' and click the 'Open Url' button.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/1-overview-openurl.png" alt="1 overview openurl">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="nexus"><a class="anchor" href="#nexus"></a>Nexus</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nexus is an open source repository that supports many artifacts formats like Java, Npm or Helm. In this laboratory we use Nexus to store the 'base-chart' Helm Chart packaged version.</p>
</div>
<div class="paragraph">
<p>As part of this laboratory pipeline you will have to upload the chart to your own repository in Nexus. Access nexus and go to 'Browse' to review your empty repository for helm packages.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/1-overview-nexus.png" alt="1 overview nexus">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Initially your 'demo-app' is using a Helm Chart deployed by laboratory admins, you will change that in next sections!
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="argo"><a class="anchor" href="#argo"></a>Argo CD</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes. Follows the GitOps pattern of using Git repositories as the source of truth for defining the desired application state. In this laboratory we use Helm Charts to specify the Kubernetes manifests.</p>
</div>
<div class="paragraph">
<p>Login into Argo CD to take a look at your 'demo-app' application and see the status and the resources' tree:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/1-overview-argoapp.png" alt="1 overview argoapp">
</div>
</div>
<div class="paragraph">
<p>Click on the 'APP DETAILS' button to validate that Argo is pointing to your Gitea repository <strong>demo-app</strong>, <strong>master</strong> branch and the directory <strong>deploy</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/1-overview-argodetails.png" alt="1 overview argodetails">
</div>
</div>
<div class="paragraph">
<p>There are two key files in that repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>deploy/Chart.yaml</strong>: contains the reference to the Helm Chart that Argo CD will use to deploy the application:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>apiVersion: v2
name: demo-app
description: Demo App
type: application
version: 1.0
appVersion: "1.0.0"
dependencies:
- name: base-chart
  repository: http://nexus.[cluster-api]/repository/helm/
  version: 1.0.0</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>deploy/values.yaml</strong>: contains the values applied to the Helm Chart to deploy the application.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>base-chart:
  global:
    nameOverride: demo-app
  runtime: nginx
  size: S
  image:
    name: image-registry.openshift-image-registry.svc:5000/demo-app/demo-app
    tag: 1.0.0
  extraLabels:
    app.kubernetes.io/part-of: demo-app

  deploy:
    replicas: 1
    strategy: RollingUpdate
    ports:
      - targetPort: 8080
        protocol: TCP
        name: http
        port: 8080
    route:
      enabled: true
      targetPort: http
      tls:
        enabled: false
    configMap:
      injectEnv: true
      name: ui-config
      path: /usr/share/nginx/html/assets/config</pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Welcome</a></span>
  <span class="next"><a href="02-first_execution.html">2. First Execution</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
